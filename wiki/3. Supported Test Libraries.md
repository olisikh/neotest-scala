# Supported Test Libraries

neotest-scala supports 5 Scala test libraries out of the box.

## Overview

| Library | Style | Single Test Run | Single Test Debug | Learn More |
|---------|-------|-----------------|-------------------|------------|
| [ScalaTest](ScalaTest) | BDD, FunSuite, FreeSpec | ✅ | ✅ | [scalatest.org](https://www.scalatest.org/) |
| [munit](munit) | ScalaTest-style | ✅ | ✅ | [scalameta.org/munit](https://scalameta.org/munit/) |
| [specs2](specs2) | Specification-based | ⚠️ Limited | ✅ | [etorreborre.github.io/specs2](https://etorreborre.github.io/specs2) |
| [utest](utest) | Lightweight | ✅ | ❌ | [github.com/com-lihaoyi/utest](https://github.com/com-lihaoyi/utest) |
| [zio-test](zio-test) | ZIO effects | ✅ | ✅ | [zio.dev/reference/test](https://zio.dev/reference/test) |

---

## Test Syntax Summary

### ScalaTest

Multiple test styles supported:

```scala
// FunSuite style
class MySpec extends AnyFunSuite {
  test("my test") { assert(1 == 1) }
}

// FreeSpec style
class MySpec extends AnyFreeSpec {
  "my feature" - {
    "should work" in { assert(1 == 1) }
  }
}
```

→ See [[ScalaTest]] for details

### munit

```scala
class MySuite extends FunSuite {
  test("my test") {
    assertEquals(1, 1)
  }
}
```

→ See [[munit]] for details

### specs2

```scala
class MySpec extends mutable.Specification {
  "MyFeature" >> {
    "should work" in {
      1 mustEqual 1
    }
  }
}
```

→ See [[specs2]] for details

### utest

```scala
object MyTests extends TestSuite {
  val tests = Tests {
    test("my test") {
      1 ==> 1
    }
  }
}
```

→ See [[utest]] for details

### zio-test

```scala
object MySpec extends ZIOSpecDefault {
  def spec = suite("my suite")(
    test("my test") {
      assertTrue(1 == 1)
    }
  )
}
```

→ See [[zio-test]] for details

---

## Feature Comparison

### Single Test Execution

| Library | Run Single Test | Command Syntax |
|---------|-----------------|----------------|
| ScalaTest | ✅ | `-z "test name"` |
| munit | ✅ | Test path selector |
| specs2 | ⚠️ | Limited (runs full spec) |
| utest | ✅ | Test path selector |
| zio-test | ✅ | `-t "test name"` |

### Debugging Support

| Library | Debug Single Test | Notes |
|---------|-------------------|-------|
| ScalaTest | ✅ | Full support via `TestSelector` |
| munit | ✅ | Full support via `TestSelector` |
| specs2 | ✅ | Full support via `TestSelector` |
| utest | ❌ | Does not implement `sbt.testing.TestSelector` |
| zio-test | ✅ | Full support via `TestSelector` |

> **Note**: utest cannot debug individual tests because it doesn't implement sbt's `TestSelector` interface. You can still debug at the suite/class level.

### Nested Test Support

| Library | Nested Tests | Detection |
|---------|--------------|-----------|
| ScalaTest FreeSpec | ✅ | `in`, `-` operators |
| munit | ✅ | Nested `test()` calls |
| specs2 | ✅ | `>>`, `in` operators |
| utest | ✅ | Nested `test()` blocks |
| zio-test | ✅ | Nested `suite()` calls |

---

## Framework Detection

neotest-scala automatically detects the test library in use by scanning your project's classpath via Metals:

```scala
// Detected by JAR name patterns:
"specs2-core_*.jar"   → specs2
"munit_*.jar"         → munit  
"scalatest_*.jar"     → ScalaTest
"utest_*.jar"         → utest
"zio-test_*.jar"      → zio-test
```

If no library is detected, ScalaTest is used as the default.

---

## Test File Naming

Test files are detected by naming convention (case-insensitive):

| Pattern | Example Files |
|---------|---------------|
| `*Test.scala` | `UserTest.scala`, `IntegrationTest.scala` |
| `*Spec.scala` | `UserSpec.scala`, `APISpec.scala` |
| `*Suite.scala` | `TestSuite.scala`, `MyTestSuite.scala` |

---

## Quick Start by Library

### ScalaTest

```scala
// build.sbt
libraryDependencies += "org.scalatest" %% "scalatest" % "3.2.18" % Test
```

```scala
// src/test/scala/MySpec.scala
import org.scalatest.funsuite.AnyFunSuite

class MySpec extends AnyFunSuite {
  test("example") {
    assert(1 + 1 === 2)
  }
}
```

### munit

```scala
// build.sbt
libraryDependencies += "org.scalameta" %% "munit" % "1.0.0" % Test
```

```scala
// src/test/scala/MySuite.scala
class MySuite extends munit.FunSuite {
  test("example") {
    assertEquals(1 + 1, 2)
  }
}
```

### specs2

```scala
// build.sbt
libraryDependencies += "org.specs2" %% "specs2-core" % "4.20.3" % Test
```

```scala
// src/test/scala/MySpec.scala
import org.specs2.mutable.Specification

class MySpec extends Specification {
  "My feature" >> {
    "should work" >> {
      1 mustEqual 1
    }
  }
}
```

### utest

```scala
// build.sbt
libraryDependencies += "com.lihaoyi" %% "utest" % "0.8.3" % Test
testFrameworks += new TestFramework("utest.runner.Framework")
```

```scala
// src/test/scala/MyTests.scala
import utest._

object MyTests extends TestSuite {
  val tests = Tests {
    test("example") {
      1 + 1 ==> 2
    }
  }
}
```

### zio-test

```scala
// build.sbt
libraryDependencies ++= Seq(
  "dev.zio" %% "zio" % "2.1.0",
  "dev.zio" %% "zio-test" % "2.1.0" % Test,
  "dev.zio" %% "zio-test-sbt" % "2.1.0" % Test
)
testFrameworks += new TestFramework("zio.test.sbt.ZTestFramework")
```

```scala
// src/test/scala/MySpec.scala
import zio.test._
import zio.test.Assertion._

object MySpec extends ZIOSpecDefault {
  def spec = suite("example")(
    test("addition works") {
      assertTrue(1 + 1 == 2)
    }
  )
}
```

---

## Related Pages

- [[Configuration|2.-Configuration]] — Configure args and options
- [[ScalaTest]] — ScalaTest details
- [[munit]] — munit details  
- [[specs2]] — specs2 details
- [[utest]] — utest details
- [[zio-test]] — zio-test details
- [[Debugging]] — Debug test setup
